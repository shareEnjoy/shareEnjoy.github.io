[{"title":"Spring Boot入门","date":"2020-02-29T12:24:00.000Z","path":"2020/02/29/spring-boot-01/","text":"1.Spring Boot 简介 简化Spring应用开发的一个框架； 整个Spring技术栈的一个大整合； J2EE开发的一站式解决方案； 2.微服务微服务：架构风格（服务微化） 一个应用应该是一组小型服务；可以通过HTTP的方式进行互通； 单体应用：ALL IN ONE 微服务：每一个功能元素最终都是一个可独立替换和独立升级的软件单元； 详细参照微服务文档 3.环境准备环境约束: –jdk1.8：Spring Boot 推荐jdk1.7及以上； –maven3.x：maven 3.3以上版本； –IntelliJIDEA：IntelliJ IDEA –SpringBoot 1.5.9.RELEASE：1.5.9； 1、MAVEN设置；给maven 的settings.xml配置文件的profiles标签添加(可以添加，也可以不用)； 123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt;&lt;/profile&gt; 2、IDEA设置首先对maven进行整合； 4.Spring Boot HelloWorld实现一个简单的功能： 浏览器发送hello请求，服务器接受请求并处理，响应Hello World字符串； 1、创建一个maven工程（jar）2、导入spring boot相关的依赖1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3、编写一个主程序；启动Spring Boot应用123456789101112/** * @SpringBootApplication 来标注一个主程序类，说明这是一个Spring Boot应用 */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // 把Spring应用启动起来 SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; 4、编写相关的Controller、Service123456789@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping(\"/hello\") public String hello()&#123; return \"Hello World!\"; &#125;&#125; 5、运行主程序测试6、简化部署123456789&lt;!-- 这个插件，可以将应用打包成一个可执行的jar包；--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 将这个应用打成jar包，再window下或者Linux下直接使用java -jar的命令进行执行； 5.Hello World探究1.POM文件1、父项目1234567891011121314&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;上面的父项目是&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt;它来真正管理Spring Boot应用里面的所有依赖版本； Spring Boot的版本仲裁中心； 以后我们导入依赖默认是不需要写版本；（没有在dependencies里面管理的依赖自然需要声明版本号） 2、启动器1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; spring-boot-starter-web： ​ spring-boot-starter：spring-boot场景启动器；帮我们导入了web模块正常运行所依赖的组件； 总结：Spring Boot将所有的功能场景都抽取出来，做成一个个的starters（启动器），只需要在项目里面引入这些starter相关场景的所有依赖都会导入进来。要用什么功能就导入什么场景的启动器 2.主程序类，主入口类123456789101112/** * @SpringBootApplication 来标注一个主程序类，说明这是一个Spring Boot应用 */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // Spring应用启动起来 SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; @SpringBootApplication: Spring Boot应用标注在某个类上说明这个类是SpringBoot的主配置类，SpringBoot就应该运行这个类的main方法来启动SpringBoot应用； 12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)public @interface SpringBootApplication &#123; @SpringBootConfiguration:Spring Boot的配置类； ​ 标注在某个类上，表示这是一个Spring Boot的配置类； ​ @Configuration:配置类上来标注这个注解； ​ 配置类 —– 配置文件；配置类也是容器中的一个组件；@Component @EnableAutoConfiguration：开启自动配置功能； ​ 以前我们需要配置的东西，Spring Boot帮我们自动配置；@EnableAutoConfiguration告诉SpringBoot开启自动配置功能；这样自动配置才能生效； 123@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; ​ @AutoConfigurationPackage：自动配置包 ​ @Import(AutoConfigurationPackages.Registrar.class)： ​ Spring的底层注解@Import，给容器中导入一个组件；导入的组件由AutoConfigurationPackages.Registrar.class； ==将主配置类（@SpringBootApplication标注的类）的所在包及下面所有子包里面的所有组件扫描到Spring容器；== ​ @Import(EnableAutoConfigurationImportSelector.class)； ​ 给容器中导入组件？ ​ EnableAutoConfigurationImportSelector：导入哪些组件的选择器； ​ 将所有需要导入的组件以全类名的方式返回；这些组件就会被添加到容器中； ​ 会给容器中导入非常多的自动配置类（xxxAutoConfiguration）；就是给容器中导入这个场景需要的所有组件，并配置好这些组件； 有了自动配置类，免去了我们手动编写配置注入功能组件等的工作； ​ SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader)； 总结：Spring Boot在启动的时候从类路径下的META-INF/spring.factories中获取EnableAutoConfiguration指定的值，将这些值作为自动配置类导入到容器中，自动配置类就生效，帮我们进行自动配置工作；==以前我们需要自己配置的东西，自动配置类都帮我们； J2EE的整体整合解决方案和自动配置都在spring-boot-autoconfigure-1.5.9.RELEASE.jar； 6.IDEA：使用 Spring Initializer快速创建spring boot项目IDE都支持使用Spring的项目创建向导快速创建一个Spring Boot项目； 选择我们需要的模块；向导会联网创建Spring Boot项目； 默认生成的Spring Boot项目； 主程序已经生成好了，我们只需要我们自己的逻辑 resources文件夹中目录结构 static：保存所有的静态资源； js css images； templates：保存所有的模板页面；（Spring Boot默认jar包使用嵌入式的Tomcat，默认不支持JSP页面）；可以使用模板引擎（freemarker、thymeleaf）； application.properties：Spring Boot应用的配置文件；可以修改一些默认设置；","tags":[{"name":"spring boot","slug":"spring-boot","permalink":"https://shareen.work/tags/spring-boot/"}]},{"title":"双十一淘宝刷喵币、京东养红包脚本","date":"2019-10-24T07:24:00.000Z","path":"2019/10/24/tianmao/","text":"一、2019双十一淘宝刷喵币脚本上一个版本不能用了，目前只能用安卓手机的了。 1.下载并安装Auto.js到应用商店去搜索下载就行，也可以去官网:https://hyb1996.github.io/AutoJs-Docs 2.为软件打开无障碍权限.打开无障碍后，在软件中将下面脚本保存并运行即可,脚本会自己打开手机淘宝并进行一系列的操作. 3.将下面脚本复制到上一步文件中123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172auto.waitFor()var appRun = currentActivity()var t=0if(appRun != 'com.taobao.taobao') &#123; launchApp(\"手机淘宝\") toast(\"打开手机淘宝中\"); sleep(5000)&#125;function run() &#123; className(\"android.view.View\").desc(\"搜索\").clickable(true).findOne().click() sleep(2000) id(\"searchEdit\").waitFor() sleep(500) id(\"searchEdit\").findOne().setText(\"双十一合伙人\") sleep(1000) id(\"searchbtn\").findOne().click() sleep(5000) className(\"android.view.View\").depth(18).boundsInside(device.width /2, device.height / 2, device.width, device.height).clickable(true).findOne().click() sleep(3000) if (text(\"签到\").exists()) &#123; text(\"签到\").findOne().click(); sleep(1600); toast(\"签到成功\") &#125;; while(text(\"去进店\").exists()) &#123; toast(\"开始进行 去进店 任务！\") goShop() &#125;; if(text(\"去浏览\").exists()) &#123; toast(\"开始进行 去浏览 任务！\") goBrowse() &#125;; toast(\"今日任务已完成！\"); &#125;function goShop() &#123; let x = device.width / 2, y = device.height / 5; text(\"去进店\").findOne().click() toast(\"点击去进店\") sleep(2000) if(desc(\"签到领喵币\").exists())&#123; var b = desc(\"签到领喵币\").findOne().bounds(); click(b.centerX(), b.centerY()); sleep(1000) className(\"android.widget.ImageView\").depth(10).drawingOrder(2).findOne().click() &#125; var task = className('android.view.View').depth(11).desc('任务完成').exists() while(!task) &#123; swipe(x, 4*y, x, y,1000); sleep(3000) task = className('android.view.View').depth(11).desc('任务完成').exists() || className('android.view.View').depth(18).desc('任务完成').exists(); if (task) toast('任务完成'); &#125; back() toast(\"已经逛了\" + ++t + \"次\") sleep(2000)&#125;function goBrowse() &#123; while (text(\"去浏览\").exists()) &#123; //判断是否有去浏览 text(\"去浏览\").findOne().click(); sleep(23000) back() toast(\"已经逛了\" + ++t + \"次\") sleep(2000) &#125;&#125;run() 二、2019双十一京东养红包脚本4.打开浏览器，登陆京东点击https://www.jd.com 5.打开下面这个网页点击https://happy.m.jd.com/babelDiy/GZWVJFLMXBQVEBDQZWMY/XJf8bH6oXDWSgS91daDJzXh9bU7/index.html#/index 6.按F12在Console里面输入下面代码，点击回车将下面代码复制Console里面去回车,然后info里就能看到效果，挂后台就行了。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990let productList = [], shopList = [], url = \"https://api.m.jd.com/client.action\";function autoPost(id,type)&#123; fetch(`$&#123;url&#125;?timestamp=$&#123;new Date().getTime()&#125;`,&#123;method: \"POST\",mode: \"cors\",credentials: \"include\",headers:&#123;\"Content-Type\": \"application/x-www-form-urlencoded\"&#125;,body:`functionId=raisepacket_collectScore&amp;body=&#123;\"type\":$&#123;type&#125;,\"ext\":\"$&#123;id&#125;\",\"appsign\":1,\"msgsign\":2&#125;&amp;client=wh5`&#125;) .then(function(response)&#123;return response.json()&#125;) .then(function(res)&#123; console.log(res.data.biz_msg); &#125;);&#125;function start()&#123; fetch(`$&#123;url&#125;?$&#123;new Date().getTime()&#125;`,&#123;method: \"POST\",mode: \"cors\",credentials: \"include\",headers:&#123;\"Content-Type\": \"application/x-www-form-urlencoded\"&#125;,body:'functionId=raisepacket_getShopAndProductList&amp;body=&amp;client=wh5'&#125;) .then(function(response)&#123;return response.json()&#125;) .then(function(res)&#123; productList = res.data.result.productList; shopList = res.data.result.shopList; console.log(`获取到任务,商品：$&#123;productList.length&#125; 商品：$&#123;shopList.length&#125;by：ke`); autoProductTask(); &#125;);&#125;//逛商品function autoProductTask()&#123; for(let i = 0,leng = productList.length;i&lt;leng;i++)&#123; (function(index)&#123; setTimeout(()=&gt;&#123; let item = productList[index]; autoPost(item['id'],4); console.log(`商品总任务数：$&#123;leng&#125; 当前任务数：$&#123;index + 1&#125;by：ke`); if( leng-1 == index)&#123; autoShopTask(); &#125; &#125;,index*1500) &#125;)(i) &#125;&#125;//逛店铺function autoShopTask()&#123; for(let i = 0,leng = shopList.length;i&lt;leng;i++)&#123; (function(index)&#123; setTimeout(()=&gt;&#123; let item = shopList[index]; autoPost(item['id'],2); console.log(`商铺总任务数：$&#123;leng&#125; 当前任务数：$&#123;index + 1&#125;by：ke`); if( leng-1 == index)&#123; autoPlay(); &#125; &#125;,index*1500) &#125;)(i) &#125;&#125;//好玩互动function autoPlay()&#123; for(let i = 0,leng = 4;i&lt;leng;i++)&#123; (function(index)&#123; setTimeout(()=&gt;&#123; autoPost(0,5); console.log(`好玩互动：$&#123;leng&#125; 当前任务数：$&#123;index + 1&#125;by：ke`); if( leng-1 == index)&#123; autoInteract(); &#125; &#125;,index*1000) &#125;)(i) &#125;&#125;//视频直播function autoInteract()&#123; for(let i = 0,leng = 4;i&lt;leng;i++)&#123; (function(index)&#123; setTimeout(()=&gt;&#123; autoPost(0,10); console.log(`视频直播：$&#123;leng&#125; 当前任务数：$&#123;index + 1&#125;by：ke`); if( leng-1 == index)&#123; autoShopping(); &#125; &#125;,index*1000) &#125;)(i) &#125;&#125;//精彩会场function autoShopping()&#123; for(let i = 0,leng = 3;i&lt;leng;i++)&#123; (function(index)&#123; setTimeout(()=&gt;&#123; autoPost(0,3); console.log(`精彩会场：$&#123;leng&#125; 当前任务数：$&#123;index + 1&#125;by：ke`); &#125;, index*1000) &#125;)(i) &#125;&#125;start();","tags":[{"name":"share","slug":"share","permalink":"https://shareen.work/tags/share/"}]},{"title":"怎么查看ubuntu是32位还是64位","date":"2019-10-17T07:56:33.000Z","path":"2019/10/17/ubuntu-see-64or32bit/","text":"一、查看操作系统是32位的还是64位的在控制台输入： 1$ sudo uname --m 回车后：如果显示i686,则表示安装了32位操作系统如果显示 x86_64，则表示安装了64位操作系统 二、如果想知道更多信息可以试试如下命令：1234$ sudo uname --s #显示内核名字$ sudo uname --r #显示内核版本$ sudo uname --n #显示网络主机名$ sudo uname --p #显示cpu","tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shareen.work/tags/ubuntu/"},{"name":"linux","slug":"linux","permalink":"https://shareen.work/tags/linux/"}]},{"title":"jQuery.validator.addMethod自定义验证规则","date":"2019-10-09T05:51:19.000Z","path":"2019/10/09/jQuery-validator-addMethod/","text":"jQuery.validate是一款非常不错的表单验证工具，简单易上手，而且能达到很好的体验效果 一、用前必备官方网站：http://bassistance.de/jquery-plugins/jquery-plugin-validation/（注意下载最新版）需要JQuery版本：1.2.6+, 兼容 1.3.2 12&lt;script src=\"../js/jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;&lt;script src=\"../js/jquery.validate.js\" type=\"text/javascript\"&gt;&lt;/script&gt; 二、默认校验规则1234567891011121314151617required:true #必输字段remote:\"check.php\" #使用ajax方法调用check.php验证输入值email:true #必须输入正确格式的电子邮件url:true #必须输入正确格式的网址date:true #必须输入正确格式的日期dateISO:true #必须输入正确格式的日期(ISO)，例如：2009-06-23，1998/01/22 只验证格式，不验证有效性number:true #必须输入合法的数字(负数，小数)digits:true #必须输入整数creditcard: #必须输入合法的信用卡号equalTo:\"#field\" #输入值必须和#field相同accept: #输入拥有合法后缀名的字符串（上传文件的后缀）maxlength:5 #输入长度最多是5的字符串(汉字算一个字符)minlength:10 #输入长度最小是10的字符串(汉字算一个字符)rangelength:[5,10] #输入长度必须介于 5 和 10 之间的字符串\")(汉字算一个字符)range:[5,10] #输入值必须介于 5 和 10 之间max:5 #输入值不能大于5min:10 #输入值不能小于10 三、默认的提示123456789101112131415161718192021222324252627282930313233343536373839404142messages: &#123;required: \"This field is required.\",remote: \"Please fix this field.\",email: \"Please enter a valid email address.\",url: \"Please enter a valid URL.\",date: \"Please enter a valid date.\",dateISO: \"Please enter a valid date (ISO).\",dateDE: \"Bitte geben Sie ein g眉ltiges Datum ein.\",number: \"Please enter a valid number.\",numberDE: \"Bitte geben Sie eine Nummer ein.\",digits: \"Please enter only digits\",creditcard: \"Please enter a valid credit card number.\",equalTo: \"Please enter the same value again.\",accept: \"Please enter a value with a valid extension.\",maxlength: $.validator.format(\"Please enter no more than &#123;0&#125; characters.\"),minlength: $.validator.format(\"Please enter at least &#123;0&#125; characters.\"),rangelength: $.validator.format(\"Please enter a value between &#123;0&#125; and &#123;1&#125; characters long.\"),range: $.validator.format(\"Please enter a value between &#123;0&#125; and &#123;1&#125;.\"),max: $.validator.format(\"Please enter a value less than or equal to &#123;0&#125;.\"),min: $.validator.format(\"Please enter a value greater than or equal to &#123;0&#125;.\")&#125;,如需要修改，可在js代码中加入：jQuery.extend(jQuery.validator.messages, &#123;required: \"必选字段\",remote: \"请修正该字段\",email: \"请输入正确格式的电子邮件\",url: \"请输入合法的网址\",date: \"请输入合法的日期\",dateISO: \"请输入合法的日期 (ISO).\",number: \"请输入合法的数字\",digits: \"只能输入整数\",creditcard: \"请输入合法的信用卡号\",equalTo: \"请再次输入相同的值\",accept: \"请输入拥有合法后缀名的字符串\",maxlength: jQuery.validator.format(\"请输入一个长度最多是 &#123;0&#125; 的字符串\"),minlength: jQuery.validator.format(\"请输入一个长度最少是 &#123;0&#125; 的字符串\"),rangelength: jQuery.validator.format(\"请输入一个长度介于 &#123;0&#125; 和 &#123;1&#125; 之间的字符串\"),range: jQuery.validator.format(\"请输入一个介于 &#123;0&#125; 和 &#123;1&#125; 之间的值\"),max: jQuery.validator.format(\"请输入一个最大为 &#123;0&#125; 的值\"),min: jQuery.validator.format(\"请输入一个最小为 &#123;0&#125; 的值\")&#125;);//推荐做法，将此文件放入messages_cn.js中，在页面中引入&lt;script src=\"../js/messages_cn.js\" type=\"text/javascript\"&gt;&lt;/script&gt; 四、使用方法html: 1234567891011121314151617181920212223//head里需要加入#&lt;script src=\"../js/jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;#&lt;script src=\"../js/jquery.validate.js\" type=\"text/javascript\"&gt;&lt;/script&gt;#&lt;script src=\"./js/messages_cn.js\" type=\"text/javascript\"&gt;&lt;/script&gt;&lt;form action=\"\" method=\"post\" id=\"registerForm\" onsubmit=\"return toVaild()\"&gt; &lt;div&gt; &lt;input type=\"text\" name=\"userName\" class=\"username\" placeholder=\"您的用户名\" autocomplete=\"off\"/&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"password\" name=\"userPw\" class=\"password\" placeholder=\"输入密码\" oncontextmenu=\"return false\" onpaste=\"return false\" /&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"password\" name=\"confirm_password\" class=\"confirm_password\" placeholder=\"再次输入密码\" oncontextmenu=\"return false\" onpaste=\"return false\" /&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"text\" name=\"userPhoneNum\" class=\"phone_number\" placeholder=\"输入手机号码\" autocomplete=\"off\" id=\"number\"/&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"email\" name=\"userMail\" class=\"email\" placeholder=\"输入邮箱地址\" oncontextmenu=\"return false\" onpaste=\"return false\" /&gt; &lt;/div&gt; &lt;button id=\"submit\" type=\"submit\"&gt;注 册&lt;/button&gt;&lt;/form&gt; messages_cn.js: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677//jquery.validate表单验证$(document).ready(function()&#123; //注册表单验证 $(\"#registerForm\").validate(&#123; rules:&#123; userName:&#123; required:true,//必填 minlength:3, //最少3个字符 maxlength:32,//最多20个字符 uName:true,//自定义的规则 /*remote:&#123; url:\"http://kouss.com/demo/Sharelink/remote.json\",//用户名重复检查，别跨域调用 type:\"post\", &#125;,*/ &#125;, userPw:&#123; required:true, minlength:3, maxlength:32, &#125;, userMail:&#123; required:true, email:true, &#125;, confirm_password:&#123; required:true, minlength:3, equalTo:'.password' &#125;, userPhoneNum:&#123; required:true, userPhoneNum:true,//自定义的规则 digits:true,//整数 &#125; &#125;, //错误信息提示 messages:&#123; userName:&#123; required:\"必须填写用户名\", minlength:\"用户名至少为3个字符\", maxlength:\"用户名至多为32个字符\", //remote: \"用户名已存在\", &#125;, userPw:&#123; required:\"必须填写密码\", minlength:\"密码至少为3个字符\", maxlength:\"密码至多为32个字符\", &#125;, userMail:&#123; required:\"请输入邮箱地址\", email: \"请输入正确的email地址\" &#125;, confirm_password:&#123; required: \"请再次输入密码\", minlength: \"确认密码不能少于3个字符\", equalTo: \"两次输入密码不一致\",//与另一个元素相同 &#125;, userPhoneNum:&#123; required:\"请输入手机号码\", digits:\"请输入正确的手机号码\", &#125;, &#125;, &#125;); // 字母和数字的验证 jQuery.validator.addMethod(\"uName\", function(value, element) &#123; var uName = /^([a-zA-Z0-9]+)$/; return this.optional(element) || (uName.test(value)); &#125;, \"用户名仅支持非空，数字和英文\"); //添加自定义验证规则 jQuery.validator.addMethod(\"userPhoneNum\", function(value, element) &#123; var length = value.length; var userPhoneNum = /^1[3456789]\\d&#123;9&#125;$/ return this.optional(element) || (length == 11 &amp;&amp; userPhoneNum.test(value)); &#125;, \"手机号码格式错误\");&#125;); 方法：$.validator.addMethod(name,function(value,element){ return true||false },message)； 参数： 第一个参数:用于type匹配的名称，自定义。 第二个参数:是一个function函数，决定了验证是否成功！里面是自定义验证。 第三个参数：当验证不成功时返回的提示错误信息。","tags":[{"name":"jQuery","slug":"jQuery","permalink":"https://shareen.work/tags/jQuery/"},{"name":"html5","slug":"html5","permalink":"https://shareen.work/tags/html5/"},{"name":"validate","slug":"validate","permalink":"https://shareen.work/tags/validate/"}]},{"title":"Ubuntu配置Tomcat改80端口报错","date":"2019-09-30T03:01:10.000Z","path":"2019/09/30/ubuntu-tomcat-80bug/","text":"本地环境：*ubuntu 18.04 LTS*jdk 1.8.0_181*tomcat 9.0.26 使用Ubuntu 18.04 环境部署 Java Web 应用，在配置 Tomcat时，发现8080端口没问题，改为80端口后就报错，然后自己网上找了些资料改去改来，不是[“http-nio-80”]，就APR，要么就拒绝连接。明天前面都用得好好的！后来又网上看了很多，才发现问题，然后就写这篇记忆下。 具体问题为在 Linux中对非root用户只能使用 1024 及以上的端口号，所以 80 端口对非 root 用户为禁用状态。第一种解决方法：使用 root 用户去配置并启动 Tomcat。这里讲的是第二种解决方法：使用 iptables 的转发功能，将 80 端口消息转发给 8080 端口。如果嫌麻烦，建议第一种。自己记住就行了。第二种教程如下： 一、前期工作1.查看系统是否安装防火墙：1$ whereis iptables 2.若已安装则下面显示为：12$ iptables: $ /sbin/iptables /etc/iptables.rules /usr/share/iptables /usr/share/man/man8/iptables.8.gz 3.否之，安装防火墙：1$ sudo apt-get install iptables 4.查看防火墙信息：1$ iptables -L -n 二、配置防火墙1.创建 iptables.rules 文件：1$ vi /etc/iptables.rules 2.按 i 进入编辑模式，添加以下规则：12345678910111213141516171819*filter:INPUT DROP [0:0]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [0:0]:syn-flood - [0:0]-A INPUT -i lo -j ACCEPT-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT-A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT-A INPUT -p tcp -m state --state NEW -m tcp --dport 443 -j ACCEPT-A INPUT -p tcp -m state --state NEW -m tcp --dport 8080 -j ACCEPT-A INPUT -p tcp -m state --state NEW -m tcp --dport 8443 -j ACCEPT-A INPUT -p icmp -m limit --limit 100/sec --limit-burst 100 -j ACCEPT-A INPUT -p icmp -m limit --limit 1/s --limit-burst 10 -j ACCEPT-A INPUT -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j syn-flood-A INPUT -j REJECT --reject-with icmp-host-prohibited-A syn-flood -p tcp -m limit --limit 3/sec --limit-burst 6 -j RETURN-A syn-flood -j REJECT --reject-with icmp-port-unreachableCOMMIT 1234522 端口为 SSH 默认端口 80 端口为 HTTP 默认端口 443 端口为 HTTPS 默认端口 8080 端口为 Tomcat 默认的 HTTP 端口 8443 端口为 Tomcat 默认的 HTTPS 端口 3.使防火墙规则生效：1$ iptables-restore &lt; /etc/iptables.rules 4.配置防火墙规则开机启动：*创建 iptables 文件： 1$ vi /etc/network/if-pre-up.d/iptables *添加以下内容： 12$ !/bin/bash$ iptables-restore &lt; /etc/iptables.rules 5.为 iptables 文件添加执行权限：1$ chmod +x /etc/network/if-pre-up.d/iptables 6.查看规则是否生效：1$ iptables -L -n 123456789101112131415161718192021222324Chain INPUT (policy DROP)target prot opt source destination ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHEDACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:80ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:443ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:8080ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:8443ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 limit: avg 100/sec burst 100ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 limit: avg 1/sec burst 10syn-flood tcp -- 0.0.0.0/0 0.0.0.0/0 tcp flags:0x17/0x02REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibitedChain FORWARD (policy ACCEPT)target prot opt source destination Chain OUTPUT (policy ACCEPT)target prot opt source destination Chain syn-flood (1 references)target prot opt source destination RETURN tcp -- 0.0.0.0/0 0.0.0.0/0 limit: avg 3/sec burst 6REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-port-unreachable 三、新增转发规则1.将 80 端口转发至 8080 端口1$ iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080 2.查看 80 端口相关的转发规则1$ iptables -t nat -L -n | grep 80 返回： 1$ REDIRECT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:80 redir ports 8080 3.配置 Tomcat 服务端口为 8080*找到 Tomcat 安装目录下的 ../conf/server.xml 配置文件并且打开编辑如下内容，改为 8080 端口即可。*&lt;Connector port=”8080” protocol=”HTTP/1.1” 4.重启 Tomcat 服务，试一下应该就可以进行正常访问 80 端口了。1$ service tomcat restart 四、删除转发规则1.将转发规则以数字序号排列显示:1$ iptables -t nat -L -n --line-numbers Chain PREROUTING (policy ACCEPT) num target prot opt source destination 1 REDIRECT tcp – 0.0.0.0/0 0.0.0.0/0 tcp dpt:80 redir ports 8080 2.删除 8080 端口对于的转发规则：1$ iptables -t nat -D PREROUTING 1 五、相关问题上述配置完成后，即可使用 IP 地址（或域名）+ 应用程序页面访问路径。如需直接使用 IP 地址（或域名）访问应用程序默认页面，应另外配置。另外，若参照上述配置时使用的是通过 域名 进行访问，则需要进行域名备案，同时需要指定访问的应用。当然可以暂且使用 域名:8080 进行访问，或是使用 https://域名 进行访问。 六、文章参考Ubuntu16.04配置Tomcat访问80端口","tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://shareen.work/tags/ubuntu/"},{"name":"linux","slug":"linux","permalink":"https://shareen.work/tags/linux/"},{"name":"tomcat","slug":"tomcat","permalink":"https://shareen.work/tags/tomcat/"}]},{"title":"my first blog","date":"2019-09-27T07:53:52.000Z","path":"2019/09/27/my-first-blog/","text":"一、总结马上国庆了，在这几天里，总算把这个个人小站弄出来了！我太难了。最初是打算做个大的，买了域名，也用了服务器，后面也找了源码部署上去,效果也还行吧。不过服务器是免费的，那一套系统自己也没去改。想到后续搭建好了，需要更新等。就有点头疼。然后后面查资料的时候，看到了一些比较好的博客，然后发现他们基本都是基于GitHub搭建自己的免费个人博客。自己也有兴趣了，开始查资料，做准备。到了装环境的时候，简直要命，下一些包下了无数次还是失败，也尝试很多方法，然而没用。我都是两台电脑开工的。在Windows上试过，Ubuntu上试过，后来莫名其妙的好了，然后就开始设置主题等这些。最终结果还是好的，也完成了！！！自己还是很欣慰，然后将开始漫长的学习！ 二、关于后面自己毕竟还是太菜了，后面尽量会记录一些自己学习的啊，遇到的问题这些，用来记忆等！还会分享一些生活中有趣的！ 三、然后兴趣爱好这方面很广，就是技术更不上，希望后面能有提升！！！","tags":[{"name":"share","slug":"share","permalink":"https://shareen.work/tags/share/"}]}]